{% extends 'base.j2' %}

{% block  content %}



    <script src="../static/js/jquery.tablesorter.combined.js"></script>
    <link rel="stylesheet" href="../static/css/theme.blue.css">
    <link rel="stylesheet" href="../static/css/theme.bootstrap.min.css">

    <div class="container">

        <div class="row text-center">
            <div class="col">
                <img src="../static/img/usarcent_logo.png" alt="">
            </div>

            <div class="col">
                <div class="h1 MontserratBlack MainFontColor">Leader Board</div>
                
                <ol class="list-group list-group-flush" id="TEAM_LIST" style="font-size: 24px">

                </ol>

            </div>

            <div class="col">
                 <img src="../static/img/usarcent_logo.png" alt="">
            </div>


        </div>

    </div>

    <script>


        function makeLeaderboard() {
            $.ajax({
                "url": "{{ url_for("leaderboard") }}",
                data: {},
                method: 'GET',
                statusCode: {
                    200: function (response) {
                        let teams = response.data;

                        $('#TEAM_LIST').empty()

                        teams.forEach(function (element) {


                            $('#TEAM_LIST').append(`<li class="MontserratBlack list-group-item">${element.name.toUpperCase()} - ${element.points} pts</li>`);

                        })

                    },

                    400: function (response) {

                    },

                    404: function (response) {

                    }
                }
            })
        }


        $('document').ready(function () {
            makeLeaderboard()
            setInterval(makeLeaderboard, 5000);
        })

    </script>

{% endblock %}